<script>
    if (typeof window.IS_SPA_FRAMEWORK_LOADED === 'undefined') {
        console.warn('GUARDIÃƒO: Acesso direto ao CAIXA bloqueado! Redirecionando...');
        window.location.replace(`index.html?view=caixa`);
    }
</script>

<main class="container mx-auto px-4 sm:px-6 lg:px-8 mt-8 pb-12">
    <div class="mb-8">
        <h1 class="text-3xl md:text-4xl font-bold">Controle de Estoque ðŸ“‹</h1>
        <p class="text-texto-muted">Monitore e ajuste os nÃ­veis de seus insumos.</p>
    </div>

    <!-- âœ… NOVA ESTRUTURA AQUI ðŸ‘‡ -->
    <div class="bg-card rounded-lg max-h-[80vh] flex flex-col overflow-hidden">
        <!-- Header Fixo -->
        <div class="flex-shrink-0 p-4 border-b border-borda/50">
            <h2 class="text-2xl font-bold text-principal">Insumos em Estoque</h2>
        </div>

        <!-- Container com Scroll -->
        <div id="container-estoque-wrapper" class="flex-grow overflow-y-auto p-4 custom-scrollbar">
            <div id="container-estoque-lista">
                <!-- ConteÃºdo gerado pelo JS -->
            </div>
            <div id="estoque-placeholder" class="text-center p-10 text-texto-muted animate-pulse">
                Contando os itens na prateleira...
            </div>
        </div>
    </div>
</main>

<style>
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: #2c2854;
        border-radius: 10px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #ff6b35;
        border-radius: 10px;
        border: 2px solid #2c2854;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #e65c2e;
    }
</style>

<script type="module">
    import { initEstoquePage } from './js/estoque.js';
    initEstoquePage();
</script>